<div class="container">
  <h1><span style="color: #1e3a8a;">QR Code</span><span style="color: #f97316;"> Generator</span><span style="color: #ec4899;">.</span></h1>
  <p class="subtitle">Generate high-resolution QR codes for any content</p>

  <div class="main-content">
    <div class="form-section">
      <div class="tabs">
    <button
      class="tab"
      [class.active]="activeTab === 'url'"
      (click)="setActiveTab('url')">
      URL
    </button>
    <button
      class="tab"
      [class.active]="activeTab === 'text'"
      (click)="setActiveTab('text')">
      Text
    </button>
    <button
      class="tab"
      [class.active]="activeTab === 'email'"
      (click)="setActiveTab('email')">
      Email
    </button>
    <button
      class="tab"
      [class.active]="activeTab === 'phone'"
      (click)="setActiveTab('phone')">
      Phone
    </button>
    <button
      class="tab"
      [class.active]="activeTab === 'wifi'"
      (click)="setActiveTab('wifi')">
      WiFi
    </button>
  </div>

  <form (ngSubmit)="generateQRCode()">
    <!-- URL Tab -->
    <div class="tab-content" *ngIf="activeTab === 'url'">
      <div class="form-group">
        <label for="urlInput">Website URL:</label>
        <input
          type="url"
          id="urlInput"
          [(ngModel)]="urlInput"
          (ngModelChange)="onInputChange()"
          name="urlInput"
          placeholder="https://example.com"
          autocomplete="off">
      </div>
    </div>

    <!-- Text Tab -->
    <div class="tab-content" *ngIf="activeTab === 'text'">
      <div class="form-group">
        <label for="textInput">Text Content:</label>
        <textarea
          id="textInput"
          [(ngModel)]="textInput"
          (ngModelChange)="onInputChange()"
          name="textInput"
          placeholder="Enter any text content..."
          autocomplete="off"></textarea>
      </div>
    </div>

    <!-- Email Tab -->
    <div class="tab-content" *ngIf="activeTab === 'email'">
      <div class="form-group">
        <label for="emailInput">Email Address:</label>
        <input
          type="email"
          id="emailInput"
          [(ngModel)]="emailInput"
          (ngModelChange)="onInputChange()"
          name="emailInput"
          placeholder="example@email.com"
          autocomplete="off">
      </div>
      <div class="form-group">
        <label for="emailSubject">Subject (optional):</label>
        <input
          type="text"
          id="emailSubject"
          [(ngModel)]="emailSubject"
          (ngModelChange)="onInputChange()"
          name="emailSubject"
          placeholder="Email subject"
          autocomplete="off">
      </div>
      <div class="form-group">
        <label for="emailBody">Body (optional):</label>
        <textarea
          id="emailBody"
          [(ngModel)]="emailBody"
          (ngModelChange)="onInputChange()"
          name="emailBody"
          placeholder="Email body text"
          autocomplete="off"></textarea>
      </div>
    </div>

    <!-- Phone Tab -->
    <div class="tab-content" *ngIf="activeTab === 'phone'">
      <div class="form-group">
        <label for="phoneInput">Phone Number:</label>
        <input
          type="tel"
          id="phoneInput"
          [(ngModel)]="phoneInput"
          (ngModelChange)="onInputChange()"
          name="phoneInput"
          placeholder="+1234567890"
          autocomplete="off">
      </div>
    </div>

    <!-- WiFi Tab -->
    <div class="tab-content" *ngIf="activeTab === 'wifi'">
      <div class="form-group">
        <label for="wifiSSID">Network Name (SSID):</label>
        <input
          type="text"
          id="wifiSSID"
          [(ngModel)]="wifiSSID"
          (ngModelChange)="onInputChange()"
          name="wifiSSID"
          placeholder="MyWiFiNetwork"
          autocomplete="off">
      </div>
      <div class="form-group">
        <label for="wifiPassword">Password:</label>
        <input
          type="text"
          id="wifiPassword"
          [(ngModel)]="wifiPassword"
          (ngModelChange)="onInputChange()"
          name="wifiPassword"
          placeholder="password123"
          autocomplete="off">
      </div>
      <div class="form-group">
        <label for="wifiSecurity">Security Type:</label>
        <select
          id="wifiSecurity"
          [(ngModel)]="wifiSecurity"
          (ngModelChange)="onInputChange()"
          name="wifiSecurity">
          <option value="WPA">WPA/WPA2</option>
          <option value="WEP">WEP</option>
          <option value="nopass">No Password</option>
        </select>
      </div>
    </div>

    <!-- Customization Options -->
    <div class="form-group">
      <h3>Customization Options</h3>
      <div class="options-grid">
        <div class="form-group">
          <label for="widthInput">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
              <line x1="9" y1="3" x2="9" y2="21"/>
              <line x1="3" y1="9" x2="21" y2="9"/>
            </svg>
            <span style="margin-left: 8px;">Size (px)</span>
          </label>
          <div class="number-input-wrapper">
            <button type="button" class="number-btn" (click)="decrementWidth()" [disabled]="width <= 1000">
              <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                <line x1="5" y1="12" x2="19" y2="12"/>
              </svg>
            </button>
            <input
              type="number"
              id="widthInput"
              [(ngModel)]="width"
              (ngModelChange)="onCustomizationChange()"
              name="widthInput"
              min="1000"
              step="100"
              class="number-input">
            <button type="button" class="number-btn" (click)="incrementWidth()">
              <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                <line x1="12" y1="5" x2="12" y2="19"/>
                <line x1="5" y1="12" x2="19" y2="12"/>
              </svg>
            </button>
          </div>
          <p class="info-text">Minimum: 1000px • Step: 100px</p>
        </div>
        <div class="form-group">
          <label for="errorLevel">Error Correction:</label>
          <select
            id="errorLevel"
            [(ngModel)]="errorLevel"
            (ngModelChange)="onCustomizationChange()"
            name="errorLevel">
            <option value="L">L - Low (~7%)</option>
            <option value="M">M - Medium (~15%)</option>
            <option value="Q">Q - Quartile (~25%)</option>
            <option value="H">H - High (~30%)</option>
          </select>
        </div>
        <div class="form-group">
          <label for="marginInput">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
              <line x1="9" y1="3" x2="9" y2="21"/>
              <line x1="3" y1="9" x2="21" y2="9"/>
              <line x1="15" y1="3" x2="15" y2="21"/>
              <line x1="3" y1="15" x2="21" y2="15"/>
            </svg>
            <span style="margin-left: 8px;">Margin</span>
          </label>
          <div class="number-input-wrapper">
            <button type="button" class="number-btn" (click)="decrementMargin()" [disabled]="margin <= 1">
              <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                <line x1="5" y1="12" x2="19" y2="12"/>
              </svg>
            </button>
            <input
              type="number"
              id="marginInput"
              [(ngModel)]="margin"
              (ngModelChange)="onCustomizationChange()"
              name="marginInput"
              min="1"
              max="10"
              class="number-input">
            <button type="button" class="number-btn" (click)="incrementMargin()" [disabled]="margin >= 10">
              <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                <line x1="12" y1="5" x2="12" y2="19"/>
                <line x1="5" y1="12" x2="19" y2="12"/>
              </svg>
            </button>
          </div>
          <p class="info-text">Range: 1-10</p>
        </div>
      </div>
      <div class="options-grid">
        <div class="form-group">
          <label for="darkColor">Foreground Color:</label>
          <div class="color-input-group">
            <input
              type="color"
              id="darkColor"
              [value]="darkColor"
              (input)="onDarkColorChange($event)">
            <input
              type="text"
              id="darkColorText"
              [(ngModel)]="darkColor"
              (ngModelChange)="onCustomizationChange()"
              name="darkColorText"
              placeholder="#000000">
          </div>
        </div>
        <div class="form-group">
          <label for="lightColor">Background Color:</label>
          <div class="color-input-group">
            <input
              type="color"
              id="lightColor"
              [value]="lightColor"
              (input)="onLightColorChange($event)">
            <input
              type="text"
              id="lightColorText"
              [(ngModel)]="lightColor"
              (ngModelChange)="onCustomizationChange()"
              name="lightColorText"
              placeholder="#FFFFFF">
          </div>
        </div>
      </div>
    </div>

      <button type="submit" [disabled]="isLoading">
        {{ isLoading ? 'Generating...' : 'Generate QR Code' }}
      </button>
    </form>

    <div class="error" *ngIf="errorMessage">
      {{ errorMessage }}
    </div>
    </div>

    <div class="preview-section">
      <div class="qr-container" *ngIf="qrCodeUrl && !isLoading">
        <img [src]="qrCodeUrl" class="qr-image" alt="QR Code">
        <br>
        <button class="download-btn" (click)="downloadQRCode()">
          Download QR Code
        </button>
      </div>
      <div class="loading" *ngIf="isLoading">
        <div class="loading-content">
          <div class="spinner"></div>
          <p>Generating QR code...</p>
        </div>
      </div>
      <div class="qr-placeholder" *ngIf="!qrCodeUrl && !isLoading">
        <div class="placeholder-content">
          <svg width="120" height="120" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
            <rect x="7" y="7" width="3" height="3"/>
            <rect x="14" y="7" width="3" height="3"/>
            <rect x="7" y="14" width="3" height="3"/>
            <rect x="14" y="14" width="3" height="3"/>
            <rect x="10.5" y="10.5" width="3" height="3"/>
          </svg>
          <p>Your QR code will appear here</p>
        </div>
      </div>
    </div>
  </div>
  
  <footer class="app-footer">
    <p>Created by <strong>Kevan</strong> • <a href="https://github.com/kevanmoothien/qrgenerator" target="_blank" rel="noopener">View on GitHub</a></p>
  </footer>
</div>
